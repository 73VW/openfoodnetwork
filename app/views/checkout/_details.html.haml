%fieldset#details
  %ng-form{"ng-controller" => "DetailsCtrl", name: "details"}

    %h5{"ng-class" => "{valid: details.$valid, dirty: details.$dirty}"}
      %span.right
        %label.label.round.alert.right
          %i.ofn-i_009-close
        %label.label.round.success.right
          %i.ofn-i_051-check-big
      Your details

    %accordion-group{"is-open" => "accordion.details", 
      "ng-class" => "{valid: details.$valid, open: accordion.details}"}
      %accordion-heading
        .row
          .small-10.columns
            %em 
              %small
                {{ summary() | printArray }}
          .small-2.columns.text-right
            %span.accordion-up
              %em 
                %small Hide
              %i.ofn-i_053-point-up 
            %span.accordion-down
              %em 
                %small Expand
              %i.ofn-i_052-point-down 

      .row
        .small-6.columns
          = validated_input "First Name", "order.bill_address.firstname"
        .small-6.columns
          = validated_input "Last Name", "order.bill_address.lastname"

      .row
        .small-6.columns
          = validated_input 'Email', 'order.email', type: :email, "ofn-focus" => "accordion['details']"
        
        .small-6.columns
          = validated_input 'Phone', 'order.bill_address.phone'
        
      .row
        .small-12.columns.text-right
          %button.primary{"ng-disabled" => "details.$invalid", "ng-click" => "next($event)"} Next
