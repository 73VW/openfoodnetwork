<%# When written in HAML, dynamic attributes (ie. (class="order-cycle-#{foo}")) were failing to parse.
    Regrettably rewritten in ERB. Fix me! %>

<div id="distribution-choice">
  <%= form_for current_order(true) do |f| %>
    <div class="distributors">
      <h2>Active Hubs</h2>
      <%= f.collection_select :distributor_id, @distributors, :id, :name %>
    </div>

    <div class="order-cycles">
      <h2>Closing Soon</h2>
      <table>
        <% @order_cycles.each do |order_cycle| %>
          <tr class="order-cycle-<%= order_cycle.id %>">
            <td><%= f.radio_button :order_cycle_id, order_cycle.id %></td>
            <td>
              <label for="order_order_cycle_id_<%= order_cycle.id %>"><%= order_cycle.name %></label>
            </td>
            <td>
              <label for="order_order_cycle_id_<%= order_cycle.id %>"><%= distance_of_time_in_words_to_now order_cycle.orders_close_at %></label>
            </td>
          </tr>
        <% end %>
      </table>
    </div>
  <% end %>
</div>
