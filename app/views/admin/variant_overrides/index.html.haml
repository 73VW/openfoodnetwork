= render 'admin/variant_overrides/header'
= render 'admin/variant_overrides/data'

.margin-bottom-50{ ng: { app: 'admin.variantOverrides', controller: 'AdminVariantOverridesCtrl', init: 'initialise()' } }
  = render 'admin/variant_overrides/filters'
  %div.sixteen.columns.alpha#loading{ ng: { cloak: true, if: 'hub && products.length == 0 && RequestMonitor.loading' } }
    %img.spinner{ src: "/assets/spinning-circles.svg" }
    %h1 LOADING INVENTORY
  = render 'admin/variant_overrides/new_variants'
  %span.text-big.no-results{ ng: { show: 'hub && !addingNewVariants && products.length > 0 && filteredProducts.length == 0' } }
    No products matching products found.
  %span.text-big.no-results{ ng: { show: 'hub && !addingNewVariants && products.length == 0 && !RequestMonitor.loading' } }
    There are no products in {{ hub.name }}'s inventory
    %button{ value: 'Add Some!' }
  %div{ ng: { cloak: true, show: 'hub && !addingNewVariants && filteredProducts.length > 0' } }
    %hr.divider.sixteen.columns.alpha.omega
    .controls.sixteen.columns.alpha.omega
      %input.four.columns.alpha{ type: 'button', value: 'Reset Stock to Defaults', 'ng-click' => 'resetStock()' }
      %input.four.columns{ type: 'button', ng: { value: "showHidden ? 'Hide Hidden' : 'Show Hidden'", click: 'showHidden = !showHidden' } }
      %div.five.columns &nbsp;
      = render 'admin/shared/columns_dropdown'


    %form{ name: 'variant_overrides_form' }
      %save-bar{ save: "update()", form: "variant_overrides_form" }
      = render 'admin/variant_overrides/products'
